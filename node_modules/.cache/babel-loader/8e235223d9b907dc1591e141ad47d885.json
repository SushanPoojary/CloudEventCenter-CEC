{"ast":null,"code":"var _jsxFileName = \"/Users/sushanpoojary/Documents/Sasha/275/Project/CEC/src/pages/EventPage.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable  */\nimport '../styles/EventPage.css';\nimport { BsFillCalendarWeekFill, BsPeopleFill } from 'react-icons/bs';\nimport React, { useEffect, useState } from 'react';\n/* eslint-disable no-else-return */\n\n/* eslint-disable arrow-body-style */\n\n/* eslint-disable react/prop-types */\n\n/* eslint-disable jsx-a11y/label-has-associated-control */\n\n/* eslint-disable react/jsx-indent */\n\n/* eslint-disable react/jsx-closing-tag-location */\n\n/* eslint-disable max-len */\n\n/* eslint-disable react/jsx-wrap-multilines */\n\n/* eslint-disable react/destructuring-assignment */\n\nimport { Route, useParams } from 'react-router-dom';\nimport { Form, Button, Container, Row, Col, Modal } from 'react-bootstrap';\nimport { ImLocation } from 'react-icons/im';\nimport NavBar from '../NavBar';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { useFilePicker } from 'use-file-picker';\nimport ReviewComponent from '../components/ReviewComponent';\nimport { URL } from '../env';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EventPage = () => {\n  _s();\n\n  const [openFileSelector, {\n    filesContent,\n    loading,\n    errors,\n    plainFiles,\n    clear\n  }] = useFilePicker({\n    multiple: false,\n    // readAs: 'DataURL', // availible formats: \"Text\" | \"BinaryString\" | \"ArrayBuffer\" | \"DataURL\"\n    // accept: '.ics,.pdf',\n    accept: ['.png', '.jpeg', '.jpg'] // limitFilesConfig: { min: 2, max: 3 },\n    // minFileSize: 1, // in megabytes\n    // maxFileSize: 1,\n    // readFilesContent: false, // ignores file content\n\n  });\n  let {\n    id\n  } = useParams();\n  const [eventData, setEventData] = useState(null);\n  const [userData, setUserData] = useState(null);\n  const [systemTime, setSystemTime] = useState(null);\n  const [message, setMessage] = useState('');\n  const [imageData, setImageData] = useState(null);\n  const [image, setImage] = useState(null);\n  const [open, setOpen] = useState(false);\n\n  const getData = () => {\n    if (localStorage.getItem('email')) setUserData(localStorage.getItem('email'));\n    axios.get(`${URL}/systemTime`).then(res => {\n      if (res) {\n        const dt = moment(res.data);\n        setSystemTime(dt);\n      }\n    }).catch(err => {\n      throw err;\n    });\n    axios.get(`${URL}/event/${id}`).then(e => e.data).then(e => {\n      setEventData(e);\n    });\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getInputFields = (email, eventData, type) => {\n    // console.log(systemTime);\n    console.log(moment(eventData.endDateTime).add(3, 'days') > systemTime && !eventData.isCancelledAndEmailSent);\n\n    if (moment(eventData.signUpDeadline) >= systemTime) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputField\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: message,\n          onChange: e => {\n            setMessage(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            sendMessageHandler(message, eventData.event_id, email, type);\n          },\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: e => setImage(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this);\n    }\n\n    if (moment(eventData.endDateTime).add(3, 'days') > systemTime && !eventData.isCancelledAndEmailSent) {\n      if (checkApproved(email, eventData.approvedParticipants) || localStorage.getItem('email') === eventData.organizer.email) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputField\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: message,\n            onChange: e => {\n              setMessage(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              sendMessageHandler(message, eventData.event_id, email, type);\n            },\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: e => setImage(e.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 6\n        }, this);\n      }\n    }\n  };\n\n  const checkApproved = (email, approvedParticipants) => {\n    var found = false;\n\n    for (var i = 0; i < approvedParticipants.length; i++) {\n      if (approvedParticipants[i].email === email) found = true;\n    }\n\n    return found;\n  };\n\n  const sendMessageHandler = (_message, _event_id, _sender_email, type) => {\n    if (image == null) {\n      if (type === 0) {\n        axios.post(`${URL}/event/signUpForumMessage`, {\n          message: _message,\n          messageCreator: {\n            email: _sender_email\n          },\n          event: {\n            event_id: _event_id\n          }\n        }).then(function (response) {\n          getData();\n          setMessage('');\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n\n      if (type === 1) {\n        axios.post(`${URL}/event/participantForumMessage`, {\n          message: _message,\n          messageCreator: {\n            email: _sender_email\n          },\n          event: {\n            event_id: _event_id\n          }\n        }).then(function (response) {\n          getData();\n          setMessage('');\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    } else {\n      const data = new FormData();\n      data.append('file', image);\n      data.append('upload_preset', 'cec275');\n      data.append('cloud_name', 'sushanubereats');\n      fetch('https://api.cloudinary.com/v1_1/sushanubereats/image/upload', {\n        method: 'post',\n        body: data\n      }).then(resp => resp.json()).then(data => {\n        if (type === 0) {\n          axios.post(`${URL}/event/signUpForumMessage`, {\n            message: _message,\n            imageUrl: data.url,\n            messageCreator: {\n              email: _sender_email\n            },\n            event: {\n              event_id: _event_id\n            }\n          }).then(function (response) {\n            getData();\n            setMessage('');\n          }).catch(function (error) {\n            console.log(error);\n          });\n        }\n\n        if (type === 1) {\n          axios.post(`${URL}/event/participantForumMessage`, {\n            message: _message,\n            imageUrl: data.url,\n            messageCreator: {\n              email: _sender_email\n            },\n            event: {\n              event_id: _event_id\n            }\n          }).then(function (response) {\n            getData();\n            setMessage('');\n          }).catch(function (error) {\n            console.log(error);\n          });\n        }\n\n        setImage(null);\n      }).catch(err => console.log(err));\n    }\n  };\n\n  const getForumComponent = eventData => {\n    if (systemTime !== null) {\n      if (moment(eventData.signUpDeadline) > systemTime) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forum\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Sign Up Forum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"messagesBox\",\n            children: eventData.signUpMessageList != null && eventData.signUpMessageList.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"messagesBox__message\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"messagesBox__message--messageText\",\n                children: item.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 11\n              }, this), item.imageUrl !== null && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.imageUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 38\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"messagesBox__message--userScreenName\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: `/user/${item.messageCreator.email}`,\n                  children: item.messageCreator.email === eventData.organizer.email ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: 'red',\n                      backgroundColor: 'lightgreen'\n                    },\n                    children: [item.messageCreator.screenName, \" OP\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 69\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: item.messageCreator.screenName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 172\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 7\n          }, this), getInputFields(userData, eventData, 0)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 6\n        }, this);\n      } else if (checkApproved(userData, eventData.approvedParticipants) || eventData.organizer.email == userData) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"forum\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Participants Forum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"messagesBox\",\n            children: eventData.participantForumMessageList != null && eventData.participantForumMessageList.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"messagesBox__message\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"messagesBox__message--messageText\",\n                children: item.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 11\n              }, this), item.imageUrl !== null && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.imageUrl\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 38\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"messagesBox__message--userScreenName\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: `/user/${item.messageCreator.email}`,\n                  children: [item.messageCreator.email === eventData.organizer.email, \"?(\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: 'green'\n                    },\n                    children: item.messageCreator.screenName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 72\n                  }, this), \"):(\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: item.messageCreator.screenName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 144\n                  }, this), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 10\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 7\n          }, this), getInputFields(userData, eventData, 1)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 6\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n      }\n    }\n  };\n\n  const handleRegister = eventCard => {\n    console.log(eventCard.event_id); // console.log(email);\n\n    if (eventCard.fee === 0) {\n      const email = localStorage.getItem('email');\n      axios.post(`${URL}/event/signUpForEvent`, {\n        email: email,\n        event_id: eventCard.event_id\n      }).then(res => {\n        getData();\n        console.log(res.status);\n      });\n    } else {\n      setOpen(true);\n    }\n  };\n\n  const handleRegisterF = eventCard => {\n    console.log(eventCard.event_id); // console.log(email);\n\n    const email = localStorage.getItem('email');\n    axios.post(`${URL}/event/signUpForEvent`, {\n      email: email,\n      event_id: eventCard.event_id\n    }).then(res => {\n      closeModal();\n      getData();\n      console.log(res.status);\n    });\n  };\n\n  const CancelForum = eventId => {\n    const email = localStorage.getItem('email');\n    axios.post(`${URL}/event/closeParticipantForum`, {\n      email: email,\n      event_id: eventId\n    }).then(res => {\n      getData();\n      console.log(res.status);\n    });\n  };\n\n  const GetRegistrationStatus = _eventData => {\n    if (localStorage.getItem('organization') && !(userData === _eventData.organizer.email)) {\n      return '';\n    }\n\n    if (_eventData.approvedParticipants.length === _eventData.maxParticipants && !(userData === _eventData.organizer.email)) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Event is Full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 5\n      }, this);\n    }\n\n    console.log(_eventData);\n    if (checkApproved(userData, _eventData.approvedParticipants) || checkApproved(userData, _eventData.participantsRequiringApproval)) return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Registered\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 11\n    }, this);else if (userData === _eventData.organizer.email) return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"You are the organizer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 11\n    }, this);else return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleRegister(_eventData),\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 5\n    }, this);\n  };\n\n  const GetOrgCancel = _eventData => {\n    console.log(_eventData);\n    if (localStorage.getItem('email') === _eventData.organizer.email && moment(_eventData.endDateTime).add(3, 'days') >= systemTime && moment(_eventData.signUpDeadline) < systemTime && !_eventData.participantForumClosedByOrganizer && !_eventData.isCancelledAndEmailSent) return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => CancelForum(_eventData.event_id),\n      children: \"Cancel Forum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 4\n    }, this);else return '';\n  };\n\n  const StatusDisplay = _eventData => {\n    if (moment(_eventData.signUpDeadline) < systemTime) {\n      if (_eventData.participantForumClosedByOrganizer) {\n        return 'Participant Forum closed by Organizer!';\n      } else if (_eventData.isCancelledAndEmailSent) {\n        return 'Participant Forum closed because Event is cancelled!';\n      } else {\n        return 'Participant Forum is Open!';\n      }\n    }\n  };\n\n  const StatusD = _eventData => {\n    console.log(_eventData.approvedParticipants.length);\n    console.log(_eventData.signUpDeadline);\n    console.log(systemTime);\n\n    if (_eventData.isCancelledAndEmailSent) {\n      return 'Cancelled';\n    } else if (moment(_eventData.signUpDeadline) >= systemTime) {\n      return 'Open For Signup';\n    } else if (systemTime > _eventData.signUpDeadline && systemTime < _eventData.startDateTime) {\n      return 'Signup Closed';\n    } else if (systemTime >= _eventData.startDateTime && systemTime <= _eventData.endDateTime) {\n      return 'Ongoing';\n    } else {\n      return 'Finished';\n    }\n  };\n\n  const closeModal = () => {\n    setOpen(false);\n  };\n\n  if (open) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Modal, {\n          show: open,\n          onHide: closeModal,\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              children: \"Proceed with Payment!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"success\",\n              onClick: () => handleRegisterF(eventData),\n              children: \"Yes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              onClick: closeModal,\n              children: \"No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 4\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"EventPage\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"eventData__content\",\n        children: eventData !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"eventData\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"eventHeader\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: eventData.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 8\n            }, this), GetRegistrationStatus(eventData), GetOrgCancel(eventData)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"organizerDetails\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: `/user/${eventData.organizer.email}`,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Organized by \", eventData.organizer.screenName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Average rating as organizer:\", ' ', eventData.organizer.reviewsReceivedAsOrganizerAverage]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Average rating as participant:\", ' ', eventData.organizer.reviewsReceivedAsParticipantAverage]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: checkApproved(localStorage.getItem('email'), eventData.approvedParticipants) ? /*#__PURE__*/_jsxDEV(ReviewComponent, {\n                event_id: eventData.event_id,\n                event: eventData,\n                reviewedBy: userData,\n                reviewedUser: eventData.organizer.email,\n                callGetData: getData,\n                systemTime: systemTime\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 90\n              }, this) : \"Conditions for Review currently not satisified!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Status: \", StatusD(eventData)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Number of Approved Participants: \", eventData.approvedParticipants.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(ImLocation, {\n                className: \"iconDefault\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 9\n              }, this), eventData.address.number, \" \", eventData.address.street, ' ', eventData.address.city, \" \", eventData.address.state, ' ', eventData.address.zip, ' ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"eventDetails\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Entry:\", ' ', eventData.isFirstComeFirstServe ? 'First Come First Serve' : 'Prior Approval']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: eventData.isCancelledAndEmailSent && 'Cancelled'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Description: \", eventData.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(BsFillCalendarWeekFill, {\n                className: \"iconDefault\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 9\n              }, this), moment(eventData.startDateTime).format('YYYY-MM-DD hh:mm').toString(), ' ', \"-\", ' ', moment(eventData.endDateTime).format('YYYY-MM-DD hh:mm').toString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(BsPeopleFill, {\n                className: \"iconDefault\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 9\n              }, this), eventData.minParticipants, \" - \", eventData.maxParticipants]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Signup Deadline:\", ' ', moment(eventData.signUpDeadline).format('YYYY-MM-DD hh:mm').toString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Fee: $\", eventData.fee]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: StatusDisplay(eventData)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 7\n          }, this), getForumComponent(eventData)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 3\n    }, this);\n  }\n};\n\n_s(EventPage, \"na0Rno5S8okzvUmxRhSBrHft6nY=\", false, function () {\n  return [useFilePicker, useParams];\n});\n\n_c = EventPage;\nexport default EventPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EventPage\");","map":{"version":3,"names":["BsFillCalendarWeekFill","BsPeopleFill","React","useEffect","useState","Route","useParams","Form","Button","Container","Row","Col","Modal","ImLocation","NavBar","axios","moment","useFilePicker","ReviewComponent","URL","EventPage","openFileSelector","filesContent","loading","errors","plainFiles","clear","multiple","accept","id","eventData","setEventData","userData","setUserData","systemTime","setSystemTime","message","setMessage","imageData","setImageData","image","setImage","open","setOpen","getData","localStorage","getItem","get","then","res","dt","data","catch","err","e","getInputFields","email","type","console","log","endDateTime","add","isCancelledAndEmailSent","signUpDeadline","target","value","sendMessageHandler","event_id","files","checkApproved","approvedParticipants","organizer","found","i","length","_message","_event_id","_sender_email","post","messageCreator","event","response","error","FormData","append","fetch","method","body","resp","json","imageUrl","url","getForumComponent","signUpMessageList","map","item","index","color","backgroundColor","screenName","participantForumMessageList","handleRegister","eventCard","fee","status","handleRegisterF","closeModal","CancelForum","eventId","GetRegistrationStatus","_eventData","maxParticipants","participantsRequiringApproval","GetOrgCancel","participantForumClosedByOrganizer","StatusDisplay","StatusD","startDateTime","title","reviewsReceivedAsOrganizerAverage","reviewsReceivedAsParticipantAverage","address","number","street","city","state","zip","isFirstComeFirstServe","description","format","toString","minParticipants"],"sources":["/Users/sushanpoojary/Documents/Sasha/275/Project/CEC/src/pages/EventPage.js"],"sourcesContent":["/* eslint-disable  */\nimport '../styles/EventPage.css';\n\nimport { BsFillCalendarWeekFill, BsPeopleFill } from 'react-icons/bs';\nimport React, { useEffect, useState } from 'react';\n\n/* eslint-disable no-else-return */\n/* eslint-disable arrow-body-style */\n/* eslint-disable react/prop-types */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable react/jsx-indent */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable max-len */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/destructuring-assignment */\nimport { Route, useParams } from 'react-router-dom';\nimport {\n\tForm,\n\tButton,\n\tContainer,\n\tRow,\n\tCol,\n\tModal,\n  } from 'react-bootstrap';\nimport { ImLocation } from 'react-icons/im';\nimport NavBar from '../NavBar';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { useFilePicker } from 'use-file-picker';\nimport ReviewComponent from '../components/ReviewComponent';\nimport { URL } from '../env';\n\nconst EventPage = () => {\n\tconst [\n\t\topenFileSelector,\n\t\t{ filesContent, loading, errors, plainFiles, clear },\n\t] = useFilePicker({\n\t\tmultiple: false,\n\t\t// readAs: 'DataURL', // availible formats: \"Text\" | \"BinaryString\" | \"ArrayBuffer\" | \"DataURL\"\n\t\t// accept: '.ics,.pdf',\n\t\taccept: ['.png', '.jpeg', '.jpg'],\n\t\t// limitFilesConfig: { min: 2, max: 3 },\n\t\t// minFileSize: 1, // in megabytes\n\t\t// maxFileSize: 1,\n\t\t// readFilesContent: false, // ignores file content\n\t});\n\tlet { id } = useParams();\n\tconst [eventData, setEventData] = useState(null);\n\tconst [userData, setUserData] = useState(null);\n\tconst [systemTime, setSystemTime] = useState(null);\n\tconst [message, setMessage] = useState('');\n\tconst [imageData, setImageData] = useState(null);\n\tconst [image, setImage] = useState(null);\n\tconst [open, setOpen] = useState(false);\n\n\tconst getData = () => {\n\t\tif (localStorage.getItem('email'))\n\t\t\tsetUserData(localStorage.getItem('email'));\n\t\taxios\n\t\t\t.get(`${URL}/systemTime`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res) {\n\t\t\t\t\tconst dt = moment(res.data);\n\t\t\t\t\tsetSystemTime(dt);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tthrow err;\n\t\t\t});\n\t\taxios\n\t\t\t.get(`${URL}/event/${id}`)\n\t\t\t.then((e) => e.data)\n\t\t\t.then((e) => {\n\t\t\t\tsetEventData(e);\n\t\t\t});\n\t\t\n\t};\n\n\tuseEffect(() => {\n\t\tgetData();\n\t}, []);\n\n\tconst getInputFields = (email, eventData, type) => {\n\t\t// console.log(systemTime);\n\t\tconsole.log(moment(eventData.endDateTime).add(3, 'days') > systemTime && !eventData.isCancelledAndEmailSent)\n\t\tif (moment(eventData.signUpDeadline) >= systemTime) {\n\t\t\treturn (\n\t\t\t\t<div className='inputField'>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetMessage(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsendMessageHandler(message, eventData.event_id, email, type);\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tSend\n\t\t\t\t\t</button>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\tonChange={(e) => setImage(e.target.files[0])}></input>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tif (moment(eventData.endDateTime).add(3, 'days') > systemTime && !eventData.isCancelledAndEmailSent) {\n\t\t\tif (checkApproved(email, eventData.approvedParticipants) || localStorage.getItem('email') === eventData.organizer.email) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className='inputField'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tsetMessage(e.target.value);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsendMessageHandler(message, eventData.event_id, email, type);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\t\tonChange={(e) => setImage(e.target.files[0])}></input>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst checkApproved = (email, approvedParticipants) => {\n\t\tvar found = false;\n\t\tfor (var i = 0; i < approvedParticipants.length; i++) {\n\t\t\tif (approvedParticipants[i].email === email) found = true;\n\t\t}\n\t\treturn found;\n\t};\n\n\tconst sendMessageHandler = (_message, _event_id, _sender_email, type) => {\n\t\tif (image == null) {\n\t\t\tif (type === 0) {\n\t\t\t\taxios\n\t\t\t\t\t.post(`${URL}/event/signUpForumMessage`, {\n\t\t\t\t\t\tmessage: _message,\n\t\t\t\t\t\tmessageCreator: { email: _sender_email },\n\t\t\t\t\t\tevent: { event_id: _event_id },\n\t\t\t\t\t})\n\t\t\t\t\t.then(function (response) {\n\t\t\t\t\t\tgetData();\n\t\t\t\t\t\tsetMessage('');\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tif (type === 1) {\n\t\t\t\taxios\n\t\t\t\t\t.post(`${URL}/event/participantForumMessage`, {\n\t\t\t\t\t\tmessage: _message,\n\t\t\t\t\t\tmessageCreator: { email: _sender_email },\n\t\t\t\t\t\tevent: { event_id: _event_id },\n\t\t\t\t\t})\n\t\t\t\t\t.then(function (response) {\n\t\t\t\t\t\tgetData();\n\t\t\t\t\t\tsetMessage('');\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tconst data = new FormData();\n\t\t\tdata.append('file', image);\n\t\t\tdata.append('upload_preset', 'cec275');\n\t\t\tdata.append('cloud_name', 'sushanubereats');\n\t\t\tfetch('https://api.cloudinary.com/v1_1/sushanubereats/image/upload', {\n\t\t\t\tmethod: 'post',\n\t\t\t\tbody: data,\n\t\t\t})\n\t\t\t\t.then((resp) => resp.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tif (type === 0) {\n\t\t\t\t\t\taxios\n\t\t\t\t\t\t\t.post(`${URL}/event/signUpForumMessage`, {\n\t\t\t\t\t\t\t\tmessage: _message,\n\t\t\t\t\t\t\t\timageUrl: data.url,\n\t\t\t\t\t\t\t\tmessageCreator: { email: _sender_email },\n\t\t\t\t\t\t\t\tevent: { event_id: _event_id },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function (response) {\n\t\t\t\t\t\t\t\tgetData();\n\t\t\t\t\t\t\t\tsetMessage('');\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (type === 1) {\n\t\t\t\t\t\taxios\n\t\t\t\t\t\t\t.post(`${URL}/event/participantForumMessage`, {\n\t\t\t\t\t\t\t\tmessage: _message,\n\t\t\t\t\t\t\t\timageUrl: data.url,\n\t\t\t\t\t\t\t\tmessageCreator: { email: _sender_email },\n\t\t\t\t\t\t\t\tevent: { event_id: _event_id },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function (response) {\n\t\t\t\t\t\t\t\tgetData();\n\t\t\t\t\t\t\t\tsetMessage('');\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tsetImage(null);\n\t\t\t\t})\n\t\t\t\t.catch((err) => console.log(err));\n\t\t}\n\t};\n\n\tconst getForumComponent = (eventData) => {\n\t\tif (systemTime !== null) {\n\t\t\tif (moment(eventData.signUpDeadline) > systemTime) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className='forum'>\n\t\t\t\t\t\t<h3>Sign Up Forum</h3>\n\t\t\t\t\t\t<div className='messagesBox'>\n\t\t\t\t\t\t\t{eventData.signUpMessageList != null &&\n\t\t\t\t\t\t\t\teventData.signUpMessageList.map((item, index) => (\n\t\t\t\t\t\t\t\t\t<div className='messagesBox__message'>\n\t\t\t\t\t\t\t\t\t\t<p className='messagesBox__message--messageText'>\n\t\t\t\t\t\t\t\t\t\t\t{item.message}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{item.imageUrl !== null && <img src={item.imageUrl} />}\n\t\t\t\t\t\t\t\t\t\t<p className='messagesBox__message--userScreenName'>\n\t\t\t\t\t\t\t\t\t\t<a href={`/user/${item.messageCreator.email}`}>\n\t\t\t\t\t\t\t\t\t\t{(item.messageCreator.email===eventData.organizer.email)?(<span style={{color:'red', backgroundColor:'lightgreen'}}>{item.messageCreator.screenName} OP</span>):(<span>{item.messageCreator.screenName}</span>)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{getInputFields(userData, eventData, 0)}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else if (\n\t\t\t\tcheckApproved(userData, eventData.approvedParticipants) ||\n\t\t\t\teventData.organizer.email == userData\n\t\t\t) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className='forum'>\n\t\t\t\t\t\t<h3>Participants Forum</h3>\n\t\t\t\t\t\t<div className='messagesBox'>\n\t\t\t\t\t\t\t{eventData.participantForumMessageList != null &&\n\t\t\t\t\t\t\t\teventData.participantForumMessageList.map((item, index) => (\n\t\t\t\t\t\t\t\t\t<div className='messagesBox__message'>\n\t\t\t\t\t\t\t\t\t\t<p className='messagesBox__message--messageText'>\n\t\t\t\t\t\t\t\t\t\t\t{item.message}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{item.imageUrl !== null && <img src={item.imageUrl} />}\n\t\t\t\t\t\t\t\t\t\t<p className='messagesBox__message--userScreenName'>\n\t\t\t\t\t\t\t\t\t\t<a href={`/user/${item.messageCreator.email}`}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.messageCreator.email===eventData.organizer.email}?(<span style={{color:'green'}}>{item.messageCreator.screenName}</span>):(<span>{item.messageCreator.screenName}</span>)\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{getInputFields(userData, eventData, 1)}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn <></>;\n\t\t\t}\n\t\t}\n\t};\n\tconst handleRegister = (eventCard) => {\n\t\tconsole.log(eventCard.event_id);\n\t\t// console.log(email);\n\t\tif(eventCard.fee === 0){\n\t\tconst email = localStorage.getItem('email');\n\t\taxios\n\t\t\t.post(`${URL}/event/signUpForEvent`, {\n\t\t\t\temail: email,\n\t\t\t\tevent_id: eventCard.event_id,\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tgetData();\n\t\t\t\tconsole.log(res.status);\n\t\t\t});\n\t\t}\n\t\telse{\n\t\t\tsetOpen(true);\n\t\t}\n\t};\n\n\tconst handleRegisterF = (eventCard) => {\n\t\tconsole.log(eventCard.event_id);\n\t\t// console.log(email);\n\t\t\n\t\tconst email = localStorage.getItem('email');\n\t\taxios\n\t\t\t.post(`${URL}/event/signUpForEvent`, {\n\t\t\t\temail: email,\n\t\t\t\tevent_id: eventCard.event_id,\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tcloseModal();\n\t\t\t\tgetData();\n\t\t\t\tconsole.log(res.status);\n\t\t\t});\n\t\t\n\t\t\n\t};\n\n\tconst CancelForum = (eventId) => {\n\t\tconst email = localStorage.getItem('email');\n\t\taxios\n\t\t\t.post(`${URL}/event/closeParticipantForum`, {\n\t\t\t\temail: email,\n\t\t\t\tevent_id: eventId,\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tgetData();\n\t\t\t\tconsole.log(res.status);\n\t\t\t});\n\t};\n\n\tconst GetRegistrationStatus = (_eventData) => {\n\t\tif(localStorage.getItem('organization') && !(userData === _eventData.organizer.email)){\n\t\t\treturn(\n\t\t\t\t''\n\t\t\t)\n\t\t}\n\t\tif(_eventData.approvedParticipants.length === _eventData.maxParticipants && !(userData === _eventData.organizer.email)){\n\t\t\treturn(\n\t\t\t\t<span>Event is Full</span>\n\t\t\t)\n\t\t}\n\t\tconsole.log(_eventData);\n\t\tif (\n\t\t\tcheckApproved(userData, _eventData.approvedParticipants) ||\n\t\t\tcheckApproved(userData, _eventData.participantsRequiringApproval)\n\t\t)\n\t\t\treturn <span>Registered</span>;\n\t\telse if (userData === _eventData.organizer.email)\n\t\t\treturn <span>You are the organizer</span>;\n\t\telse\n\t\t\treturn (\n\t\t\t\t<button onClick={() => handleRegister(_eventData)}>\n\t\t\t\t\tRegister\n\t\t\t\t</button>\n\t\t\t);\n\t};\n\n\tconst GetOrgCancel = (_eventData) => {\n\t\tconsole.log(_eventData);\n\t\t if (localStorage.getItem('email') === _eventData.organizer.email \n\t\t && moment(_eventData.endDateTime).add(3, 'days') >= systemTime \n\t\t && moment(_eventData.signUpDeadline) < systemTime && !_eventData.participantForumClosedByOrganizer\n\t\t && !_eventData.isCancelledAndEmailSent)\n\t\t\treturn (\n\t\t\t<button onClick={() => CancelForum(_eventData.event_id)}>\n\t\t\tCancel Forum\n\t\t</button>);\n\t\telse\n\t\t\treturn (\n\t\t\t\t''\n\t\t\t);\n\t};\n\n\tconst StatusDisplay = (_eventData) => {\n\t\t\n\t\tif(moment(_eventData.signUpDeadline) < systemTime) {\n\t\t\tif (_eventData.participantForumClosedByOrganizer){\n\t\t\t\treturn(\n\t\t\t\t'Participant Forum closed by Organizer!'\n\t\t\t\t)\n\t\t\t}\n\t\t\telse if(_eventData.isCancelledAndEmailSent){\n\t\t\t\treturn(\n\t\t\t\t'Participant Forum closed because Event is cancelled!'\n\t\t\t\t)\n\t\t\t\t}\n\t\t\telse { \n\t\t\t\treturn(\n\t\t\t\t'Participant Forum is Open!'\n\t\t\t\t)\n\n\t\t\t}\n\t\t\t\n\t\t}\n\t};\n\n\tconst StatusD = (_eventData) => {\n\t\tconsole.log(_eventData.approvedParticipants.length);\n\t\tconsole.log(_eventData.signUpDeadline);\n\t\tconsole.log(systemTime);\n\t\tif(_eventData.isCancelledAndEmailSent){\n\t\t\treturn(\n\t\t\t\t'Cancelled'\n\t\t\t)\n\t\t}\n\t\telse if(moment(_eventData.signUpDeadline) >= systemTime){\n\t\t\treturn(\n\t\t\t\t'Open For Signup'\n\t\t\t)\n\t\t}\n\t\telse if(systemTime > _eventData.signUpDeadline && systemTime <_eventData.startDateTime){\n\t\t\treturn(\n\t\t\t\t'Signup Closed'\n\t\t\t)\n\t\t}\n\t\telse if(systemTime >= _eventData.startDateTime && systemTime <= _eventData.endDateTime){\n\t\t\treturn(\n\t\t\t\t'Ongoing'\n\t\t\t)\n\t\t}\n\t\telse{\n\t\t\treturn(\n\t\t\t\t'Finished'\n\t\t\t)\n\t\t}\n\t};\n\tconst closeModal = () => {\n\t\tsetOpen(false)\n\t  };\n\tif(open){\n\t\treturn(\n\t\t\t<div>\n          <NavBar />\n          <div>\n            {/* <div><h3 style={{ paddingLeft: '0.5em' }}>Proceed with Payment!</h3></div> */}\n            <Modal show={open} onHide={closeModal}>\n              <Modal.Header>\n                <Modal.Title>Proceed with Payment!</Modal.Title>\n              </Modal.Header>\n              <Modal.Footer>\n                <Button variant=\"success\" onClick={() => handleRegisterF(eventData)}>\n                  Yes\n                </Button>\n\t\t\t\t<Button variant=\"danger\" onClick={closeModal}>\n                  No\n                </Button>\n              </Modal.Footer>\n            </Modal>\n          </div>\n        </div>\n\t\t)\n\t}\n\telse{return (\n\t\t<div className='EventPage'>\n\t\t\t<NavBar />\n\t\t\t<div className='eventData__content'>\n\t\t\t\t{eventData !== null && (\n\t\t\t\t\t<div className='eventData'>\n\t\t\t\t\t\t<div className='eventHeader'>\n\t\t\t\t\t\t\t<h2>{eventData.title}</h2>\n\t\t\t\t\t\t\t{GetRegistrationStatus(eventData)}\n\t\t\t\t\t\t\t{GetOrgCancel(eventData)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='organizerDetails'>\n\t\t\t\t\t\t<a href={`/user/${eventData.organizer.email}`}>\n\t\t\t\t\t\t<span>Organized by {eventData.organizer.screenName}</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\tAverage rating as organizer:{' '}\n\t\t\t\t\t\t\t\t{eventData.organizer.reviewsReceivedAsOrganizerAverage}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\tAverage rating as participant:{' '}\n\t\t\t\t\t\t\t\t{eventData.organizer.reviewsReceivedAsParticipantAverage}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{checkApproved(localStorage.getItem('email'), eventData.approvedParticipants) ? (<ReviewComponent\n\t\t\t\t\t\t\t\t\tevent_id={eventData.event_id}\n\t\t\t\t\t\t\t\t\tevent={eventData}\n\t\t\t\t\t\t\t\t\treviewedBy={userData}\n\t\t\t\t\t\t\t\t\treviewedUser={eventData.organizer.email}\n\t\t\t\t\t\t\t\t\tcallGetData={getData}\n\t\t\t\t\t\t\t\t\tsystemTime={systemTime}\n\t\t\t\t\t\t\t\t/>) : (\"Conditions for Review currently not satisified!\") }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\tStatus: {StatusD(eventData)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\tNumber of Approved Participants: {eventData.approvedParticipants.length}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<ImLocation className='iconDefault' />\n\t\t\t\t\t\t\t\t{eventData.address.number} {eventData.address.street}{' '}\n\t\t\t\t\t\t\t\t{eventData.address.city} {eventData.address.state}{' '}\n\t\t\t\t\t\t\t\t{eventData.address.zip}{' '}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='eventDetails'>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\tEntry:{' '}\n\t\t\t\t\t\t\t\t{eventData.isFirstComeFirstServe\n\t\t\t\t\t\t\t\t\t? 'First Come First Serve'\n\t\t\t\t\t\t\t\t\t: 'Prior Approval'}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span>{eventData.isCancelledAndEmailSent && 'Cancelled'}</span>\n\n\t\t\t\t\t\t\t<p>Description: {eventData.description}</p>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<BsFillCalendarWeekFill className='iconDefault' />\n\t\t\t\t\t\t\t\t{moment(eventData.startDateTime)\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD hh:mm')\n\t\t\t\t\t\t\t\t\t.toString()}{' '}\n\t\t\t\t\t\t\t\t-{' '}\n\t\t\t\t\t\t\t\t{moment(eventData.endDateTime)\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD hh:mm')\n\t\t\t\t\t\t\t\t\t.toString()}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<BsPeopleFill className='iconDefault' />\n\t\t\t\t\t\t\t\t{eventData.minParticipants} - {eventData.maxParticipants}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\tSignup Deadline:{' '}\n\t\t\t\t\t\t\t\t{moment(eventData.signUpDeadline)\n\t\t\t\t\t\t\t\t\t.format('YYYY-MM-DD hh:mm')\n\t\t\t\t\t\t\t\t\t.toString()}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span>Fee: ${eventData.fee}</span>\n\t\t\t\t\t\t\t<div><h4>{StatusDisplay(eventData)}</h4></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{getForumComponent(eventData)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n\t\t\t\t\t\t\t\t}\n};\n\nexport default EventPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}