{"ast":null,"code":"import _slicedToArray from\"/Users/sushanpoojary/Documents/Sasha/275/Project/CEC/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable  */ /* eslint-disable no-else-return */ /* eslint-disable arrow-body-style */ /* eslint-disable react/prop-types */ /* eslint-disable jsx-a11y/label-has-associated-control */ /* eslint-disable react/jsx-indent */ /* eslint-disable react/jsx-closing-tag-location */ /* eslint-disable max-len */ /* eslint-disable react/jsx-wrap-multilines */ /* eslint-disable react/destructuring-assignment */import React,{useState}from'react';import ReactStars from'react-rating-stars-component';import axios from'axios';import moment from'moment';import{URL}from'../env';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReviewComponent=function ReviewComponent(_ref){var event_id=_ref.event_id,event=_ref.event,reviewedUser=_ref.reviewedUser,reviewedBy=_ref.reviewedBy,callGetData=_ref.callGetData,systemTime=_ref.systemTime;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),rating=_useState2[0],setRating=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),reviewText=_useState4[0],setReviewText=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showReviewSendStatus=_useState6[0],setShowReviewSendStatus=_useState6[1];var showReviewController=function showReviewController(){return moment(event.startDateTime)<systemTime<moment(event.endDateTime).add(7,'days');};var ReviewSendHandler=function ReviewSendHandler(){axios.post(\"\".concat(URL,\"/user/review\"),{description:reviewText,rating:rating,event:{event_id:event_id},reviewedUser:{email:reviewedUser},reviewedBy:{email:reviewedBy}}).then(function(res){if(res.status==200){setRating(0);setReviewText('');setShowReviewSendStatus(true);callGetData();}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[showReviewController()&&!showReviewSendStatus&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setReviewText(e.target.value);},value:reviewText}),/*#__PURE__*/_jsx(ReactStars,{count:5,onChange:function onChange(e){setRating(e);},size:24,isHalf:true,emptyIcon:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-star\"}),halfIcon:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star-half-alt\"}),fullIcon:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"}),activeColor:\"#ffd700\",value:rating}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return ReviewSendHandler();},children:\"Send Review\"})]}),showReviewSendStatus&&/*#__PURE__*/_jsx(\"p\",{children:\"Your review is Recorded\"})]});};export default ReviewComponent;","map":{"version":3,"names":["React","useState","ReactStars","axios","moment","URL","ReviewComponent","event_id","event","reviewedUser","reviewedBy","callGetData","systemTime","rating","setRating","reviewText","setReviewText","showReviewSendStatus","setShowReviewSendStatus","showReviewController","startDateTime","endDateTime","add","ReviewSendHandler","post","description","email","then","res","status","e","target","value"],"sources":["/Users/sushanpoojary/Documents/Sasha/275/Project/CEC/src/components/ReviewComponent.js"],"sourcesContent":["/* eslint-disable  */\n/* eslint-disable no-else-return */\n/* eslint-disable arrow-body-style */\n/* eslint-disable react/prop-types */\n/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable react/jsx-indent */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable max-len */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/destructuring-assignment */\n\nimport React, { useState } from 'react';\n\nimport ReactStars from 'react-rating-stars-component';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { URL } from '../env';\n\nconst ReviewComponent = ({\n\tevent_id,\n\tevent,\n\treviewedUser,\n\treviewedBy,\n\tcallGetData,\n\tsystemTime,\n}) => {\n\tconst [rating, setRating] = useState(0);\n\tconst [reviewText, setReviewText] = useState('');\n\tconst [showReviewSendStatus, setShowReviewSendStatus] = useState(false);\n\n\tconst showReviewController = () => {\n\t\treturn (\n\t\t\tmoment(event.startDateTime) <\n\t\t\tsystemTime <\n\t\t\tmoment(event.endDateTime).add(7, 'days')\n\t\t);\n\t};\n\n\tconst ReviewSendHandler = () => {\n\t\taxios\n\t\t\t.post(`${URL}/user/review`, {\n\t\t\t\tdescription: reviewText,\n\t\t\t\trating: rating,\n\t\t\t\tevent: { event_id: event_id },\n\t\t\t\treviewedUser: { email: reviewedUser },\n\t\t\t\treviewedBy: { email: reviewedBy },\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.status == 200) {\n\t\t\t\t\tsetRating(0);\n\t\t\t\t\tsetReviewText('');\n\t\t\t\t\tsetShowReviewSendStatus(true);\n\t\t\t\t\tcallGetData();\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{showReviewController() && !showReviewSendStatus && (\n\t\t\t\t<>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tonChange={(e) => setReviewText(e.target.value)}\n\t\t\t\t\t\tvalue={reviewText}\n\t\t\t\t\t/>\n\t\t\t\t\t<ReactStars\n\t\t\t\t\t\tcount={5}\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetRating(e);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\tisHalf={true}\n\t\t\t\t\t\temptyIcon={<i className='far fa-star'></i>}\n\t\t\t\t\t\thalfIcon={<i className='fa fa-star-half-alt'></i>}\n\t\t\t\t\t\tfullIcon={<i className='fa fa-star'></i>}\n\t\t\t\t\t\tactiveColor='#ffd700'\n\t\t\t\t\t\tvalue={rating}\n\t\t\t\t\t/>\n\t\t\t\t\t<button onClick={() => ReviewSendHandler()}>Send Review</button>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{showReviewSendStatus && <p>Your review is Recorded</p>}\n\t\t</>\n\t);\n};\n\nexport default ReviewComponent;\n"],"mappings":"0IAAA,qB,CACA,mC,CACA,qC,CACA,qC,CACA,0D,CACA,qC,CACA,mD,CACA,4B,CACA,8C,CACA,mDAEA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,MAAOC,WAAP,KAAuB,8BAAvB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,QAAnB,CACA,OAASC,GAAT,KAAoB,QAApB,C,6IAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,MAOlB,IANLC,SAMK,MANLA,QAMK,CALLC,KAKK,MALLA,KAKK,CAJLC,YAIK,MAJLA,YAIK,CAHLC,UAGK,MAHLA,UAGK,CAFLC,WAEK,MAFLA,WAEK,CADLC,UACK,MADLA,UACK,CACL,cAA4BX,QAAQ,CAAC,CAAD,CAApC,wCAAOY,MAAP,eAAeC,SAAf,eACA,eAAoCb,QAAQ,CAAC,EAAD,CAA5C,yCAAOc,UAAP,eAAmBC,aAAnB,eACA,eAAwDf,QAAQ,CAAC,KAAD,CAAhE,yCAAOgB,oBAAP,eAA6BC,uBAA7B,eAEA,GAAMC,qBAAoB,CAAG,QAAvBA,qBAAuB,EAAM,CAClC,MACCf,OAAM,CAACI,KAAK,CAACY,aAAP,CAAN,CACAR,UADA,CAEAR,MAAM,CAACI,KAAK,CAACa,WAAP,CAAN,CAA0BC,GAA1B,CAA8B,CAA9B,CAAiC,MAAjC,CAHD,CAKA,CAND,CAQA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,EAAM,CAC/BpB,KAAK,CACHqB,IADF,WACUnB,GADV,iBAC6B,CAC3BoB,WAAW,CAAEV,UADc,CAE3BF,MAAM,CAAEA,MAFmB,CAG3BL,KAAK,CAAE,CAAED,QAAQ,CAAEA,QAAZ,CAHoB,CAI3BE,YAAY,CAAE,CAAEiB,KAAK,CAAEjB,YAAT,CAJa,CAK3BC,UAAU,CAAE,CAAEgB,KAAK,CAAEhB,UAAT,CALe,CAD7B,EAQEiB,IARF,CAQO,SAACC,GAAD,CAAS,CACd,GAAIA,GAAG,CAACC,MAAJ,EAAc,GAAlB,CAAuB,CACtBf,SAAS,CAAC,CAAD,CAAT,CACAE,aAAa,CAAC,EAAD,CAAb,CACAE,uBAAuB,CAAC,IAAD,CAAvB,CACAP,WAAW,GACX,CACD,CAfF,EAgBA,CAjBD,CAmBA,mBACC,2BACEQ,oBAAoB,IAAM,CAACF,oBAA3B,eACA,wCACC,cACC,IAAI,CAAC,MADN,CAEC,QAAQ,CAAE,kBAACa,CAAD,QAAOd,cAAa,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAApB,EAFX,CAGC,KAAK,CAAEjB,UAHR,EADD,cAMC,KAAC,UAAD,EACC,KAAK,CAAE,CADR,CAEC,QAAQ,CAAE,kBAACe,CAAD,CAAO,CAChBhB,SAAS,CAACgB,CAAD,CAAT,CACA,CAJF,CAKC,IAAI,CAAE,EALP,CAMC,MAAM,CAAE,IANT,CAOC,SAAS,cAAE,UAAG,SAAS,CAAC,aAAb,EAPZ,CAQC,QAAQ,cAAE,UAAG,SAAS,CAAC,qBAAb,EARX,CASC,QAAQ,cAAE,UAAG,SAAS,CAAC,YAAb,EATX,CAUC,WAAW,CAAC,SAVb,CAWC,KAAK,CAAEjB,MAXR,EAND,cAmBC,eAAQ,OAAO,CAAE,yBAAMU,kBAAiB,EAAvB,EAAjB,yBAnBD,GAFF,CAwBEN,oBAAoB,eAAI,8CAxB1B,GADD,CA4BA,CAnED,CAqEA,cAAeX,gBAAf"},"metadata":{},"sourceType":"module"}