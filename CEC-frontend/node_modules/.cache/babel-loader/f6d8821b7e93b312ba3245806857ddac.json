{"ast":null,"code":"var _jsxFileName = \"/Users/sushanpoojary/Desktop/275/CEC/CEC-frontend/src/components/customer/userFavourites.js\";\n\n/* eslint-disable dot-notation */\n\n/* eslint-disable react/jsx-closing-tag-location */\n\n/* eslint-disable camelcase */\n\n/* eslint-disable arrow-body-style */\n\n/* eslint-disable react/prop-types */\n\n/* eslint-disable prefer-destructuring */\n\n/* eslint-disable max-len */\n\n/* eslint-disable react/jsx-wrap-multilines */\n\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport Axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { connect } from 'react-redux';\nimport { Form, Button, Card, Container, Row, Col } from 'react-bootstrap';\nimport NavBar from '../../NavBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass userFavourites extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleVisit = event => {\n      event.preventDefault();\n      const visitdata = {\n        email: event.target.id\n      };\n      console.log(visitdata);\n      this.setState({\n        remail: visitdata,\n        redirect: true\n      });\n      console.log(this.state.remail);\n      console.log(this.state.redirect);\n      Axios.defaults.withCredentials = true;\n      Axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n      Axios.post('http://localhost:3001/sr', visitdata).then(res => {\n        console.log(res.status);\n      });\n    };\n\n    this.handleRemove = event => {\n      event.preventDefault();\n      const visitdata = {\n        email: event.target.id\n      };\n      console.log(visitdata);\n      this.setState({\n        remail: visitdata\n      });\n      console.log(this.state.remail);\n      Axios.defaults.withCredentials = true;\n      Axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n      Axios.post('http://localhost:3001/deletefromfav', visitdata).then(res => {\n        console.log(res.status);\n      });\n    };\n\n    this.state = {\n      products: [],\n      remail: '',\n      redirect: false //   finalorder: 0,\n\n    };\n  }\n\n  componentDidMount() {\n    const menuList = [];\n    Axios.defaults.withCredentials = true;\n    Axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n    Axios.get('http://localhost:3001/getFavourites').then(res => {\n      if (res) {\n        console.log(res.data);\n\n        if (res.data.length >= 0) {\n          // eslint-disable-next-line no-plusplus\n          for (let i = 0; i < res.data.length; i++) {\n            menuList.push(res.data[i]);\n          }\n        }\n\n        this.setState({\n          products: menuList\n        });\n        this.props.dispatch({\n          type: 'USER_FAVOURITES',\n          payload: true\n        });\n      }\n    }).catch(err => {\n      throw err;\n    });\n  }\n\n  render() {\n    console.log(this.state.products);\n    let redirectVar = null;\n\n    if (this.state.redirect) {\n      redirectVar = /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/seerestaurant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [redirectVar, /*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Favourite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          inline: true,\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: this.state.products.map(item => /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  style: {\n                    width: '20rem',\n                    margin: '2rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                    variant: \"top\",\n                    src: item.uploadURL,\n                    style: {\n                      height: '250px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                    children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                      children: item.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                      children: [item.location, \"\\xA0 \\xA0 \\xA0\", item.timings]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"success\",\n                      id: item.email,\n                      value: item.email,\n                      onClick: this.handleVisit,\n                      children: \"Visit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"outline-danger\",\n                      size: \"sm\",\n                      id: item.email,\n                      value: item.email,\n                      onClick: this.handleRemove,\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 52\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userFavourites: state.userFavourites\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatch\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(userFavourites);","map":{"version":3,"names":["React","Axios","Redirect","connect","Form","Button","Card","Container","Row","Col","NavBar","userFavourites","Component","constructor","props","handleVisit","event","preventDefault","visitdata","email","target","id","console","log","setState","remail","redirect","state","defaults","withCredentials","headers","common","localStorage","getItem","post","then","res","status","handleRemove","products","componentDidMount","menuList","get","data","length","i","push","dispatch","type","payload","catch","err","render","redirectVar","map","item","width","margin","uploadURL","height","name","description","location","timings","mapStateToProps","mapDispatchToProps"],"sources":["/Users/sushanpoojary/Desktop/275/CEC/CEC-frontend/src/components/customer/userFavourites.js"],"sourcesContent":["/* eslint-disable dot-notation */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable camelcase */\n/* eslint-disable arrow-body-style */\n/* eslint-disable react/prop-types */\n/* eslint-disable prefer-destructuring */\n/* eslint-disable max-len */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport Axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { connect } from 'react-redux';\nimport {\n  Form,\n  Button,\n  Card,\n  Container,\n  Row,\n  Col,\n} from 'react-bootstrap';\nimport NavBar from '../../NavBar';\n\nclass userFavourites extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      remail: '',\n      redirect: false,\n    //   finalorder: 0,\n    };\n  }\n\n  componentDidMount() {\n    const menuList = [];\n    Axios.defaults.withCredentials = true;\n    Axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n    Axios.get('http://localhost:3001/getFavourites')\n      .then((res) => {\n        if (res) {\n          console.log(res.data);\n          if (res.data.length >= 0) {\n            // eslint-disable-next-line no-plusplus\n            for (let i = 0; i < res.data.length; i++) {\n              menuList.push(res.data[i]);\n            }\n          }\n          this.setState({ products: menuList });\n          this.props.dispatch({\n            type: 'USER_FAVOURITES',\n            payload: true,\n          });\n        }\n      }).catch((err) => {\n        throw err;\n      });\n  }\n\n  handleVisit = (event) => {\n    event.preventDefault();\n    const visitdata = {\n      email: event.target.id,\n    };\n    console.log(visitdata);\n    this.setState({\n      remail: visitdata,\n      redirect: true,\n    });\n    console.log(this.state.remail);\n    console.log(this.state.redirect);\n    Axios.defaults.withCredentials = true;\n    Axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n    Axios.post('http://localhost:3001/sr', visitdata)\n      .then((res) => {\n        console.log(res.status);\n      });\n  }\n\n  handleRemove = (event) => {\n    event.preventDefault();\n    const visitdata = {\n      email: event.target.id,\n    };\n    console.log(visitdata);\n    this.setState({\n      remail: visitdata,\n    });\n    console.log(this.state.remail);\n    Axios.defaults.withCredentials = true;\n    Axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n    Axios.post('http://localhost:3001/deletefromfav', visitdata)\n      .then((res) => {\n        console.log(res.status);\n      });\n  }\n\n  render() {\n    console.log(this.state.products);\n    let redirectVar = null;\n    if (this.state.redirect) {\n      redirectVar = <Redirect to=\"/seerestaurant\" />;\n    }\n    return (\n      <div>\n        {redirectVar}\n        <NavBar />\n        <div>\n          <div><h4>Favourite</h4></div>\n          <Form inline>\n            <Container>\n              <Row>\n                {this.state.products.map((item) => <Col>\n                  <Card style={{ width: '20rem', margin: '2rem' }}>\n                    <Card.Img variant=\"top\" src={item.uploadURL} style={{ height: '250px' }} />\n                    <Card.Body>\n                      <Card.Title>{item.name}</Card.Title>\n                      <Card.Text>\n                        {item.description}\n                      </Card.Text>\n                      <Card.Text>\n                        {item.location}\n                    &nbsp; &nbsp; &nbsp;\n                        {item.timings}\n                      </Card.Text>\n                      <Button variant=\"success\" id={item.email} value={item.email} onClick={this.handleVisit}>Visit</Button>\n                      <Button variant=\"outline-danger\" size=\"sm\" id={item.email} value={item.email} onClick={this.handleRemove}>Remove</Button>\n                    </Card.Body>\n                  </Card>\n                </Col>)}\n              </Row>\n            </Container>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { userFavourites: state.userFavourites };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    dispatch,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(userFavourites);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}