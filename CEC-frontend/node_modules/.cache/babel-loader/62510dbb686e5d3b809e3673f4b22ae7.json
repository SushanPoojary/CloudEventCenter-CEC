{"ast":null,"code":"var _jsxFileName = \"/Users/sushanpoojary/Desktop/275/CEC/CEC-frontend/src/components/organization/resAddItems.js\";\n\n/* eslint-disable dot-notation */\n\n/* eslint-disable react/jsx-closing-tag-location */\n\n/* eslint-disable react/jsx-wrap-multilines */\n\n/* eslint-disable arrow-body-style */\n\n/* eslint-disable react/prop-types */\n\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport Axios from 'axios';\nimport { connect } from 'react-redux';\nimport { Form, Button, Card, Container, Row, Col } from 'react-bootstrap';\nimport { Redirect } from 'react-router';\nimport NavBar from '../../NavBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass resAddItems extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleEdit = event => {\n      event.preventDefault();\n      const orderNum = parseInt(event.target.id, 10);\n      const visitdata = {\n        p_id: orderNum\n      };\n      console.log(visitdata);\n      this.setState({\n        p_id: visitdata\n      });\n      console.log(this.state.p_id);\n      console.log(this.state.redirect);\n      Axios.defaults.withCredentials = true;\n      Axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n      Axios.post('http://localhost:3001/editmenu', visitdata).then(res => {\n        console.log(res.status);\n        this.setState({\n          redirect: true\n        });\n      });\n    };\n\n    this.state = {\n      products: [],\n      p_id: 0,\n      redirect: false\n    };\n  }\n\n  componentDidMount() {\n    const menuList = [];\n    Axios.defaults.withCredentials = true;\n    Axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n    Axios.get('http://localhost:3001/resAddItems').then(res => {\n      if (res) {\n        console.log(res.data);\n\n        if (res.data.length >= 0) {\n          // eslint-disable-next-line no-plusplus\n          for (let i = 0; i < res.data.length; i++) {\n            menuList.push(res.data[i]);\n          }\n        }\n\n        this.setState({\n          products: menuList\n        });\n        this.props.dispatch({\n          type: 'RESTAURANT_MENU',\n          payload: true\n        });\n      }\n    }).catch(err => {\n      throw err;\n    });\n  }\n\n  render() {\n    console.log(this.state.products);\n    let redirectVar = null;\n\n    if (this.state.redirect) {\n      redirectVar = /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/editmenu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [redirectVar, /*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            inline: true,\n            children: /*#__PURE__*/_jsxDEV(Container, {\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: this.state.products.map(item => /*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(Card, {\n                    style: {\n                      width: '20rem',\n                      margin: '2rem'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                      variant: \"top\",\n                      src: item.uploadURL,\n                      style: {\n                        height: '250px'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                      children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                        children: item.p_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                        children: item.p_description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 101,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                        children: [item.p_ingredients, \"\\xA0 \\xA0 \\xA0 $\", item.p_price]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 104,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"success\",\n                        id: item.p_id,\n                        value: \"Edit\",\n                        onClick: this.handleEdit,\n                        children: \"Edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 110,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outline-danger\",\n                        id: item.p_id,\n                        value: \"Delete\",\n                        children: \"Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 111,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 54\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          className: \"offset-sm-9\",\n          inline: true,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            href: \"/addmenu\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    restMenu: state.restMenu\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatch\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(resAddItems);","map":{"version":3,"names":["React","Axios","connect","Form","Button","Card","Container","Row","Col","Redirect","NavBar","resAddItems","Component","constructor","props","handleEdit","event","preventDefault","orderNum","parseInt","target","id","visitdata","p_id","console","log","setState","state","redirect","defaults","withCredentials","headers","common","localStorage","getItem","post","then","res","status","products","componentDidMount","menuList","get","data","length","i","push","dispatch","type","payload","catch","err","render","redirectVar","map","item","width","margin","uploadURL","height","p_name","p_description","p_ingredients","p_price","mapStateToProps","restMenu","mapDispatchToProps"],"sources":["/Users/sushanpoojary/Desktop/275/CEC/CEC-frontend/src/components/organization/resAddItems.js"],"sourcesContent":["/* eslint-disable dot-notation */\n/* eslint-disable react/jsx-closing-tag-location */\n/* eslint-disable react/jsx-wrap-multilines */\n/* eslint-disable arrow-body-style */\n/* eslint-disable react/prop-types */\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport Axios from 'axios';\nimport { connect } from 'react-redux';\nimport {\n  Form,\n  Button,\n  Card,\n  Container,\n  Row,\n  Col,\n} from 'react-bootstrap';\nimport { Redirect } from 'react-router';\nimport NavBar from '../../NavBar';\n\nclass resAddItems extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      p_id: 0,\n      redirect: false,\n    };\n  }\n\n  componentDidMount() {\n    const menuList = [];\n    Axios.defaults.withCredentials = true;\n    Axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n    Axios.get('http://localhost:3001/resAddItems')\n      .then((res) => {\n        if (res) {\n          console.log(res.data);\n          if (res.data.length >= 0) {\n            // eslint-disable-next-line no-plusplus\n            for (let i = 0; i < res.data.length; i++) {\n              menuList.push(res.data[i]);\n            }\n          }\n          this.setState({ products: menuList });\n          this.props.dispatch({\n            type: 'RESTAURANT_MENU',\n            payload: true,\n          });\n        }\n      }).catch((err) => {\n        throw err;\n      });\n  }\n\n  handleEdit = (event) => {\n    event.preventDefault();\n    const orderNum = parseInt(event.target.id, 10);\n    const visitdata = {\n      p_id: orderNum,\n    };\n    console.log(visitdata);\n    this.setState({\n      p_id: visitdata,\n    });\n    console.log(this.state.p_id);\n    console.log(this.state.redirect);\n    Axios.defaults.withCredentials = true;\n    Axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n    Axios.post('http://localhost:3001/editmenu', visitdata)\n      .then((res) => {\n        console.log(res.status);\n        this.setState({ redirect: true });\n      });\n  }\n\n  render() {\n    console.log(this.state.products);\n    let redirectVar = null;\n    if (this.state.redirect) {\n      redirectVar = <Redirect to=\"/editmenu\" />;\n    }\n    return (\n      <div>\n        {redirectVar}\n        <NavBar />\n        <div>\n          <div>\n            <Form inline>\n              <Container>\n                <Row>\n                  {this.state.products.map((item) => <Col>\n                    <Card style={{ width: '20rem', margin: '2rem' }}>\n                      <Card.Img\n                        variant=\"top\"\n                        src={item.uploadURL}\n                        style={{ height: '250px' }}\n                      />\n                      <Card.Body>\n                        <Card.Title>{item.p_name}</Card.Title>\n                        <Card.Text>\n                          {item.p_description}\n                        </Card.Text>\n                        <Card.Text>\n                          {item.p_ingredients}\n                    &nbsp; &nbsp; &nbsp;\n                          $\n                          {item.p_price}\n                        </Card.Text>\n                        <Button variant=\"success\" id={item.p_id} value=\"Edit\" onClick={this.handleEdit}>Edit</Button>\n                        <Button variant=\"outline-danger\" id={item.p_id} value=\"Delete\">Delete</Button>\n                      </Card.Body>\n                    </Card>\n                  </Col>)}\n                </Row>\n              </Container>\n            </Form>\n          </div>\n          <Form className=\"offset-sm-9\" inline>\n            <Button variant=\"success\" href=\"/addmenu\">Add</Button>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return { restMenu: state.restMenu };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    dispatch,\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(resAddItems);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}