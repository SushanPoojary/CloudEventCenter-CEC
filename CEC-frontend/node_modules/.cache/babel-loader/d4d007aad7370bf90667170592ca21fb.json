{"ast":null,"code":"var _jsxFileName = \"/Users/sushanpoojary/Desktop/275/CEC/CEC-frontend/src/context/userContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n/* eslint-disable */\nimport { createContext, useContext, useState } from \"react\";\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword, onAuthStateChanged, signOut, updateProfile, sendPasswordResetEmail, sendEmailVerification, GoogleAuthProvider, signInWithPopup } from \"firebase/auth\";\nimport { auth } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext({});\nexport const useUserContext = () => {\n  _s();\n\n  return useContext(UserContext);\n};\n\n_s(useUserContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport const UserContextProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  useState(() => {\n    setLoading(true);\n    const unsubscribe = onAuthStateChanged(auth, res => {\n      if (res) {\n        setUser(res);\n      } else {\n        setUser(null);\n      }\n\n      setError(\"\");\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, []); // const registerUser = (email, password, name) => {\n  //   setLoading(true);\n  //   createUserWithEmailAndPassword(auth, email, password)\n  //     .then(() =>\n  //       updateProfile(auth.currentUser, {\n  //         displayName: name,\n  //       })\n  //     )\n  //     .then((res) => console.log(res))\n  //     .catch((err) => setError(err.message))\n  //     .finally(() => setLoading(false));\n  // };\n\n  const registerUser = async (email, password, name) => {\n    try {\n      const userCred = await createUserWithEmailAndPassword(auth, email, password);\n      await sendEmailVerification(userCred.user, {\n        url: \"http://localhost:3000/userReg\"\n      });\n      return {\n        user: userCred.user\n      };\n    } catch (e) {\n      return {\n        error: e.message\n      };\n    }\n  };\n\n  const googleLogin = async () => {\n    const provider = new GoogleAuthProvider();\n\n    try {\n      const userCred = await signInWithPopup(provider);\n      await sendEmailVerification(userCred.user, {\n        url: \"http://localhost:3000/userReg\"\n      });\n      return {\n        user: userCred.user\n      };\n    } catch (e) {\n      return {\n        error: e.message\n      };\n    }\n  };\n\n  const signInUser = (email, password) => {\n    setLoading(true);\n    signInWithEmailAndPassword(auth, email, password).then(res => console.log(res)).catch(err => setError(err.code)).finally(() => setLoading(false));\n  };\n\n  const logoutUser = () => {\n    signOut(auth);\n  };\n\n  const forgotPassword = email => {\n    return sendPasswordResetEmail(auth, email);\n  };\n\n  const contextValue = {\n    user,\n    loading,\n    error,\n    signInUser,\n    registerUser,\n    googleLogin,\n    logoutUser,\n    forgotPassword\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(UserContextProvider, \"6bphBZY133Qrhg1QLuW6JcdS2cQ=\");\n\n_c = UserContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserContextProvider\");","map":{"version":3,"names":["createContext","useContext","useState","signInWithEmailAndPassword","createUserWithEmailAndPassword","onAuthStateChanged","signOut","updateProfile","sendPasswordResetEmail","sendEmailVerification","GoogleAuthProvider","signInWithPopup","auth","UserContext","useUserContext","UserContextProvider","children","user","setUser","loading","setLoading","error","setError","unsubscribe","res","registerUser","email","password","name","userCred","url","e","message","googleLogin","provider","signInUser","then","console","log","catch","err","code","finally","logoutUser","forgotPassword","contextValue"],"sources":["/Users/sushanpoojary/Desktop/275/CEC/CEC-frontend/src/context/userContext.js"],"sourcesContent":["/* eslint-disable */\nimport { createContext, useContext, useState } from \"react\";\nimport {\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n  updateProfile,\n  sendPasswordResetEmail,\n  sendEmailVerification,\n  GoogleAuthProvider,\n  signInWithPopup,\n} from \"firebase/auth\";\nimport { auth } from \"../firebase\";\n\nexport const UserContext = createContext({});\n\nexport const useUserContext = () => {\n  return useContext(UserContext);\n};\n\nexport const UserContextProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  useState(() => {\n    setLoading(true);\n    const unsubscribe = onAuthStateChanged(auth, (res) => {\n      if (res) {\n        setUser(res);\n      } else {\n        setUser(null);\n      }\n      setError(\"\");\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, []);\n\n  // const registerUser = (email, password, name) => {\n  //   setLoading(true);\n  //   createUserWithEmailAndPassword(auth, email, password)\n  //     .then(() =>\n  //       updateProfile(auth.currentUser, {\n  //         displayName: name,\n  //       })\n  //     )\n  //     .then((res) => console.log(res))\n  //     .catch((err) => setError(err.message))\n  //     .finally(() => setLoading(false));\n  // };\n\n  const registerUser = async (email, password, name) => {\n    \n      try {\n        const userCred = await createUserWithEmailAndPassword(auth, email, password);\n        await sendEmailVerification(userCred.user, {\n          url: \"http://localhost:3000/userReg\",\n        });\n        return {\n          user: userCred.user,\n        };\n        \n      } catch (e) {\n        return {\n          error: e.message,\n        };\n      }\n    \n}\n\n  const googleLogin = async () => {\n\n    const provider = new GoogleAuthProvider();\n    try {\n      const userCred = await signInWithPopup(provider);\n      await sendEmailVerification(userCred.user, {\n        url: \"http://localhost:3000/userReg\",\n      });\n      return {\n        user: userCred.user,\n      };\n      \n    } catch (e) {\n      return {\n        error: e.message,\n      };\n    }\n\n  }\n\n\n  const signInUser = (email, password) => {\n    setLoading(true);\n    signInWithEmailAndPassword(auth, email, password)\n      .then((res) => console.log(res))\n      .catch((err) => setError(err.code))\n      .finally(() => setLoading(false));\n  };\n\n  const logoutUser = () => {\n    signOut(auth);\n  };\n\n  const forgotPassword = (email) => {\n    return sendPasswordResetEmail(auth, email);\n  };\n\n  const contextValue = {\n    user,\n    loading,\n    error,\n    signInUser,\n    registerUser,\n    googleLogin,\n    logoutUser,\n    forgotPassword,\n  };\n  return (\n    <UserContext.Provider value={contextValue}>{children}</UserContext.Provider>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}